Commit 7: Improve error handling
